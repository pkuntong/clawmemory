# OpenClaw Billing Bug Report
**Date:** February 6, 2026
**Reporter:** Pau (@gnotnuk)
**Severity:** CRITICAL - Incorrect Billing

---

## Summary
When switching from Kimi (Moonshot) model to Claude (Anthropic) model, OpenClaw continues to bill the Kimi API while using Claude's model. This results in paying for Kimi tokens while receiving Claude responses.

---

## Steps to Reproduce

1. **Initial State:** Session running on `moonshot/kimi-k2.5`
   - Moonshot API key: `sk-q9Q...KwLj5m`
   - Balance decreasing normally on https://platform.moonshot.ai/console/account

2. **Model Switch:** Execute `session_status` with `model="anthropic/claude-sonnet-4-5"`
   - Session status shows: `ðŸ§  Model: anthropic/claude-sonnet-4-5`
   - Session status shows: `ðŸ”‘ api-key sk-antâ€¦CkmAAA (anthropic:default)`

3. **Expected Behavior:**
   - Billing should switch to Anthropic
   - Claude usage should appear on https://claude.ai/settings/usage
   - Moonshot balance should stop decreasing

4. **Actual Behavior:**
   - Moonshot balance continues to decrease
   - Anthropic usage shows $0 / 0 tokens
   - User is billed for Kimi while receiving Claude responses

---

## Evidence

### Session Status After Switch (Incorrect Billing)
```
ðŸ¦ž OpenClaw 2026.2.2-3 (9c5941b)
ðŸ•’ Time: Friday, February 6th, 2026 â€” 11:37 AM
ðŸ§  Model: anthropic/claude-sonnet-4-5
ðŸ”‘ api-key sk-antâ€¦CkmAAA (anthropic:default)
ðŸ§® Tokens: 77k in / 228 out
ðŸ“š Context: 77k/256k (30%)
```

### Billing Console Screenshots Required
- [ ] Moonshot Console: https://platform.moonshot.ai/console/account
  - Show balance decreasing during Claude usage period
- [ ] Anthropic Console: https://claude.ai/settings/usage
  - Show $0 usage despite active Claude sessions

---

## Impact

- **Financial:** User charged for Kimi API while using Claude
- **Trust:** Billing transparency compromised
- **Severity:** CRITICAL - affects all model switching functionality

---

## Workaround

Switch back to original model (Kimi) to stop incorrect billing:
```bash
session_status(model="moonshot/kimi-k2.5")
```

---

## Environment

- **OpenClaw Version:** 2026.2.2-3 (9c5941b)
- **OS:** macOS Darwin 25.2.0 (arm64)
- **Node:** v24.1.0
- **Channel:** Telegram (@Paul_clawdbot)
- **Original Model:** moonshot/kimi-k2.5
- **Target Model:** anthropic/claude-sonnet-4-5

---

## Additional Notes

- Bug discovered during X automation development session
- User noticed Moonshot balance decreasing despite explicit model switch
- Anthropic console confirmed zero usage during Claude session
- Issue persists across multiple `session_status` calls with model override

---

## Request

1. **Immediate:** Fix billing routing when model is switched via `session_status`
2. **Investigation:** Audit if other users affected by this bug
3. **Refund:** Consider refunding incorrectly billed Kimi tokens
4. **Testing:** Add integration tests for model switch + billing correlation

---

**Reporter Contact:** Pau / @gnotnuk / Telegram: @Paul_clawdbot
**Bug Report Generated By:** Clawdbot (main session)
